PreciousMetals.HistoricalData = {

    getx: function(success){
      success.call(this, JSON.parse('{"gold":[[1325570400000,1598],[1325656800000,1613],[1325743200000,1599],[1325829600000,1616.5],[1326088800000,1615],[1326175200000,1637],[1326261600000,1634.5],[1326348000000,1661],[1326434400000,1635.5],[1326693600000,1641],[1326780000000,1656],[1326866400000,1647],[1326952800000,1655],[1327039200000,1653],[1327298400000,1675.5],[1327384800000,1665.5],[1327471200000,1650],[1327557600000,1727],[1327644000000,1726],[1327903200000,1729],[1327989600000,1744],[1328076000000,1740],[1328162400000,1751],[1328248800000,1734],[1328508000000,1719],[1328594400000,1724],[1328680800000,1746],[1328767200000,1748],[1328853600000,1711.5],[1329112800000,1720],[1329199200000,1722],[1329285600000,1733],[1329372000000,1713],[1329458400000,1723],[1329717600000,1733],[1329804000000,1748],[1329890400000,1752],[1329976800000,1777],[1330063200000,1777.5],[1330322400000,1772],[1330408800000,1781],[1330495200000,1770],[1330581600000,1714],[1330668000000,1707],[1330927200000,1705],[1331013600000,1669],[1331100000000,1677.5],[1331186400000,1690],[1331272800000,1687.5],[1331528400000,1697.5],[1331614800000,1690],[1331701200000,1644.25],[1331787600000,1648],[1331874000000,1658],[1332133200000,1661.5],[1332219600000,1656.75],[1332306000000,1649.25],[1332392400000,1635.5],[1332478800000,1664],[1332738000000,1680.25],[1332824400000,1692],[1332910800000,1676],[1332997200000,1657.5],[1333083600000,1662.5],[1333342800000,1677.5],[1333429200000,1676.25],[1333515600000,1621],[1333602000000,1631],[1334034000000,1644],[1334120400000,1658],[1334206800000,1668.5],[1334293200000,1666.5],[1334552400000,1653],[1334638800000,1635.5],[1334725200000,1644],[1334811600000,1650],[1334898000000,1641.5],[1335157200000,1629],[1335243600000,1649.5],[1335330000000,1637.75],[1335416400000,1653.5],[1335502800000,1663.5],[1335762000000,1651.25],[1335848400000,1664],[1335934800000,1648],[1336021200000,1637.75],[1336107600000,1643.75],[1336453200000,1602.5],[1336539600000,1582.5],[1336626000000,1598.5],[1336712400000,1583],[1336971600000,1558.5],[1337058000000,1556.5],[1337144400000,1548.5],[1337230800000,1554],[1337317200000,1589.5],[1337576400000,1592.5],[1337662800000,1582.5],[1337749200000,1549],[1337835600000,1568.5],[1337922000000,1569.5],[1338181200000,1574.6],[1338267600000,1579.5],[1338354000000,1540],[1338440400000,1558],[1338526800000,1606],[1338958800000,1635],[1339045200000,1606],[1339131600000,1576.5],[1339390800000,1584],[1339477200000,1603.5],[1339563600000,1619.5],[1339650000000,1613.5],[1339736400000,1627.25],[1339995600000,1615.5],[1340082000000,1625.5],[1340168400000,1601],[1340254800000,1582],[1340341200000,1565.5],[1340600400000,1570],[1340686800000,1576],[1340773200000,1573.5],[1340859600000,1558.5],[1340946000000,1598.5],[1341205200000,1592],[1341291600000,1617.5],[1341378000000,1613.5],[1341464400000,1604],[1341550800000,1587],[1341810000000,1585],[1341896400000,1595.25],[1341982800000,1577],[1342069200000,1556.25],[1342155600000,1595.5],[1342414800000,1589.75],[1342501200000,1585.25],[1342587600000,1575.25],[1342674000000,1584],[1342760400000,1576.25],[1343019600000,1572.25],[1343106000000,1583.25],[1343192400000,1601],[1343278800000,1618],[1343365200000,1618.25],[1343624400000,1617.75],[1343710800000,1622],[1343797200000,1599],[1343883600000,1597],[1343970000000,1602],[1344229200000,1610],[1344315600000,1611],[1344402000000,1613.25],[1344488400000,1615],[1344574800000,1618.5],[1344834000000,1622.5]],"silver":[[1325570400000,28.78],[1325656800000,29.18],[1325743200000,28.92],[1325829600000,29.4],[1326088800000,28.85],[1326175200000,29.69],[1326261600000,29.81],[1326348000000,30.58],[1326434400000,29.64],[1326693600000,29.9],[1326780000000,30.41],[1326866400000,30.15],[1326952800000,30.79],[1327039200000,30.36],[1327298400000,32.45],[1327384800000,31.95],[1327471200000,31.67],[1327557600000,33.35],[1327644000000,33.48],[1327903200000,33.18],[1327989600000,33.6],[1328076000000,33.8],[1328162400000,33.67],[1328248800000,33.93],[1328508000000,33.52],[1328594400000,33.28],[1328680800000,34.37],[1328767200000,33.8],[1328853600000,33.55],[1329112800000,33.84],[1329199200000,33.51],[1329285600000,33.69],[1329372000000,33.18],[1329458400000,33.48],[1329717600000,33.56],[1329804000000,33.65],[1329890400000,34.08],[1329976800000,34.55],[1330063200000,35.57],[1330322400000,35.09],[1330408800000,35.6],[1330495200000,37.23],[1330581600000,34.56],[1330668000000,35.21],[1330927200000,34.18],[1331013600000,33.22],[1331100000000,33.17],[1331186400000,34.09],[1331272800000,33.87],[1331528400000,33.77],[1331614800000,33.58],[1331701200000,32.84],[1331787600000,32.36],[1331874000000,32.27],[1332133200000,32.44],[1332219600000,32.22],[1332306000000,31.97],[1332392400000,31.79],[1332478800000,31.54],[1332738000000,32.23],[1332824400000,33.01],[1332910800000,32.43],[1332997200000,31.79],[1333083600000,32.43],[1333342800000,32.42],[1333429200000,32.97],[1333515600000,31.98],[1333602000000,31.27],[1334034000000,31.55],[1334120400000,31.7],[1334206800000,31.47],[1334293200000,32.365],[1334552400000,31.32],[1334638800000,31.64],[1334725200000,31.61],[1334811600000,31.47],[1334898000000,31.79],[1335157200000,31.16],[1335243600000,30.86],[1335330000000,30.88],[1335416400000,30.7],[1335502800000,31.14],[1335762000000,31.2],[1335848400000,30.78],[1335934800000,30.52],[1336021200000,30.36],[1336107600000,29.9],[1336453200000,29.58],[1336539600000,28.77],[1336626000000,29.25],[1336712400000,28.58],[1336971600000,28.33],[1337058000000,28.28],[1337144400000,27.25],[1337230800000,27.48],[1337317200000,28.48],[1337576400000,28.39],[1337662800000,28.07],[1337749200000,27.76],[1337835600000,28.08],[1337922000000,28.24],[1338181200000,28.52],[1338267600000,28.25],[1338354000000,27.68],[1338440400000,28.1],[1338526800000,27.38],[1338958800000,29.36],[1339045200000,29.28],[1339131600000,28.17],[1339390800000,28.63],[1339477200000,28.54],[1339563600000,28.87],[1339650000000,28.88],[1339736400000,28.66],[1339995600000,28.43],[1340082000000,28.81],[1340168400000,28.31],[1340254800000,27.88],[1340341200000,26.81],[1340600400000,26.72],[1340686800000,27.44],[1340773200000,26.835],[1340859600000,26.81],[1340946000000,27.08],[1341205200000,27.36],[1341291600000,27.92],[1341378000000,28.11],[1341464400000,28.33],[1341550800000,27.32],[1341810000000,27.24],[1341896400000,27.57],[1341982800000,27.11],[1342069200000,26.67],[1342155600000,27.48],[1342414800000,27.05],[1342501200000,27.42],[1342587600000,27.03],[1342674000000,27.45],[1342760400000,27.07],[1343019600000,26.95],[1343106000000,26.93],[1343192400000,27.11],[1343278800000,27.81],[1343365200000,27.73],[1343624400000,27.64],[1343710800000,28.2],[1343797200000,27.87],[1343883600000,27.42],[1343970000000,27.25],[1344229200000,27.72],[1344315600000,28],[1344402000000,27.84],[1344488400000,28.02],[1344574800000,27.88],[1344834000000,28.05]],"platinum":[[1325570400000,1406],[1325656800000,1415],[1325743200000,1415],[1325829600000,1410],[1326088800000,1403],[1326175200000,1462],[1326261600000,1489],[1326348000000,1498],[1326434400000,1479],[1326693600000,1495],[1326780000000,1523],[1326866400000,1507],[1326952800000,1530],[1327039200000,1517],[1327298400000,1545],[1327384800000,1541],[1327471200000,1546],[1327557600000,1615],[1327644000000,1608],[1327903200000,1603],[1327989600000,1624],[1328076000000,1611],[1328162400000,1620],[1328248800000,1630],[1328508000000,1609],[1328594400000,1619],[1328680800000,1647],[1328767200000,1659],[1328853600000,1638],[1329112800000,1663],[1329199200000,1628],[1329285600000,1636],[1329372000000,1610],[1329458400000,1638],[1329717600000,1647],[1329804000000,1673],[1329890400000,1698],[1329976800000,1729],[1330063200000,1714],[1330322400000,1706],[1330408800000,1712],[1330495200000,1726],[1330581600000,1686],[1330668000000,1704],[1330927200000,1672],[1331013600000,1614],[1331100000000,1627],[1331186400000,1634],[1331272800000,1655],[1331528400000,1687],[1331614800000,1691],[1331701200000,1679],[1331787600000,1676],[1331874000000,1677],[1332133200000,1673],[1332219600000,1656],[1332306000000,1640],[1332392400000,1607],[1332478800000,1617],[1332738000000,1639],[1332824400000,1662],[1332910800000,1642],[1332997200000,1641],[1333083600000,1640],[1333342800000,1641],[1333429200000,1659],[1333515600000,1616],[1333602000000,1592],[1334034000000,1605],[1334120400000,1590],[1334206800000,1585],[1334293200000,1600],[1334552400000,1570],[1334638800000,1574],[1334725200000,1578],[1334811600000,1574],[1334898000000,1579],[1335157200000,1553],[1335243600000,1553],[1335330000000,1551],[1335416400000,1555],[1335502800000,1573],[1335762000000,1570],[1335848400000,1566],[1335934800000,1562],[1336021200000,1552],[1336107600000,1530],[1336453200000,1514],[1336539600000,1499],[1336626000000,1490],[1336712400000,1466],[1336971600000,1448],[1337058000000,1449],[1337144400000,1427],[1337230800000,1449],[1337317200000,1456],[1337576400000,1458],[1337662800000,1458],[1337749200000,1430],[1337835600000,1431],[1337922000000,1423],[1338181200000,1438],[1338267600000,1435],[1338354000000,1410],[1338440400000,1405],[1338526800000,1407],[1338958800000,1458],[1339045200000,1466],[1339131600000,1417],[1339390800000,1452],[1339477200000,1443],[1339563600000,1460],[1339650000000,1485],[1339736400000,1493],[1339995600000,1484],[1340082000000,1486],[1340168400000,1459],[1340254800000,1457],[1340341200000,1435],[1340600400000,1434],[1340686800000,1433],[1340773200000,1408],[1340859600000,1402],[1340946000000,1428],[1341205200000,1441],[1341291600000,1475],[1341378000000,1485],[1341464400000,1468],[1341550800000,1450],[1341810000000,1441],[1341896400000,1449],[1341982800000,1420],[1342069200000,1410],[1342155600000,1424],[1342414800000,1420],[1342501200000,1419],[1342587600000,1405],[1342674000000,1415],[1342760400000,1408],[1343019600000,1393],[1343106000000,1395],[1343192400000,1396],[1343278800000,1408],[1343365200000,1410],[1343624400000,1409],[1343710800000,1427],[1343797200000,1394],[1343883600000,1391],[1343970000000,1390],[1344229200000,1396],[1344315600000,1410],[1344402000000,1402],[1344488400000,1411],[1344574800000,1399],[1344834000000,1401]],"palladium":[[1325570400000,664],[1325656800000,656],[1325743200000,645],[1325829600000,632],[1326088800000,616],[1326175200000,643],[1326261600000,638],[1326348000000,645],[1326434400000,627],[1326693600000,640],[1326780000000,656],[1326866400000,646],[1326952800000,678],[1327039200000,669],[1327298400000,678],[1327384800000,676],[1327471200000,675],[1327557600000,698],[1327644000000,684],[1327903200000,684],[1327989600000,692],[1328076000000,695],[1328162400000,698],[1328248800000,711],[1328508000000,696],[1328594400000,700],[1328680800000,707],[1328767200000,713],[1328853600000,697],[1329112800000,702],[1329199200000,686],[1329285600000,688],[1329372000000,682],[1329458400000,697],[1329717600000,694],[1329804000000,709],[1329890400000,713],[1329976800000,721],[1330063200000,714],[1330322400000,707],[1330408800000,712],[1330495200000,722],[1330581600000,703],[1330668000000,713],[1330927200000,709],[1331013600000,673],[1331100000000,678],[1331186400000,696],[1331272800000,690],[1331528400000,704],[1331614800000,701],[1331701200000,700],[1331787600000,693],[1331874000000,703],[1332133200000,702],[1332219600000,699],[1332306000000,690],[1332392400000,658],[1332478800000,658],[1332738000000,664],[1332824400000,667],[1332910800000,651],[1332997200000,653],[1333083600000,651],[1333342800000,656],[1333429200000,660],[1333515600000,647],[1333602000000,635],[1334034000000,639],[1334120400000,637],[1334206800000,641],[1334293200000,643],[1334552400000,645],[1334638800000,653],[1334725200000,657],[1334811600000,null],[1334898000000,666],[1335157200000,668],[1335243600000,674],[1335330000000,665],[1335416400000,659],[1335502800000,677],[1335762000000,679],[1335848400000,681],[1335934800000,673],[1336021200000,665],[1336107600000,663],[1336453200000,633],[1336539600000,615],[1336626000000,620],[1336712400000,605],[1336971600000,602],[1337058000000,602],[1337144400000,590],[1337230800000,602],[1337317200000,605],[1337576400000,611],[1337662800000,612],[1337749200000,607],[1337835600000,600],[1337922000000,590],[1338181200000,601],[1338267600000,608],[1338354000000,601],[1338440400000,611],[1338526800000,607],[1338958800000,620],[1339045200000,629],[1339131600000,613],[1339390800000,623],[1339477200000,624],[1339563600000,625],[1339650000000,624.5],[1339736400000,632],[1339995600000,628],[1340082000000,634],[1340168400000,624],[1340254800000,617],[1340341200000,608],[1340600400000,606],[1340686800000,601.5],[1340773200000,579],[1340859600000,576],[1340946000000,578],[1341205200000,580],[1341291600000,591],[1341378000000,601],[1341464400000,588],[1341550800000,577],[1341810000000,582],[1341896400000,585],[1341982800000,576],[1342069200000,574],[1342155600000,581],[1342414800000,581],[1342501200000,583],[1342587600000,576],[1342674000000,581],[1342760400000,577],[1343019600000,565],[1343106000000,569],[1343192400000,566],[1343278800000,571],[1343365200000,574],[1343624400000,581],[1343710800000,591],[1343797200000,586],[1343883600000,575.5],[1343970000000,573],[1344229200000,576],[1344315600000,585],[1344402000000,585],[1344488400000,588],[1344574800000,578],[1344834000000,581]]}'));
    },
    get: function(success){
        $.get("http://www.kitco.com/gold.londonfix.html", function(response){
            attrs = { gold: [], silver: [], platinum: [], palladium: []};
            var $table = $(response).find("p").filter(function(i, item){ return $(item).text().match(/Gold/)}).closest("table");

            var $trs = $table.find("tr:gt(2)").get().reverse();
            _.each($trs, function(item){
                var $item = $(item);
                var arr = $item.find("td").eq(0).text().split(/[- :]/);
                var date = new Date(arr[0], arr[1]-1, arr[2]);
                if(isFinite(date)){
                    var dateInMillis = date.getTime();
                    var goldPriceAM = $item.find("td").eq(1).text();
                    var goldPricePM = $item.find("td").eq(2).text();
                    if(goldPriceAM != "-" && goldPricePM != "-"){
                        attrs.gold.push([dateInMillis, parseFloat(goldPricePM == "-" ? goldPriceAM : goldPricePM)]);
                    }

                    var silverPrice = $item.find("td").eq(3).text();
                    if(silverPrice != "-"){
                        attrs.silver.push([dateInMillis, parseFloat(silverPrice)]);
                    }

                    var platinumPriceAM = $item.find("td").eq(4).text();
                    var platinumPricePM = $item.find("td").eq(5).text();
                    if(platinumPriceAM != "-" && platinumPricePM != "-"){
                        attrs.platinum.push([dateInMillis, parseFloat(platinumPricePM == "-" ? platinumPriceAM : platinumPricePM)]);
                    }

                    var palladiumPriceAM = $item.find("td").eq(6).text();
                    var palladiumPricePM = $item.find("td").eq(7).text();
                    if(palladiumPricePM != "-" && palladiumPriceAM != "-"){
                        attrs.palladium.push([dateInMillis, parseFloat(palladiumPricePM == "-" ? palladiumPriceAM : palladiumPricePM)]);
                    }
                }

            });
            success.call(this, attrs);
        });
    }

};